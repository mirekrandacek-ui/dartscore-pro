:root{
  --bg:#1f2227;
  --panel:#24282e;
  --text:#fff;
  --muted:#cfd6df;
  --line:#2d3239;

  /* původní "zelená", necháme ji kvůli starým stylům */
  --green:#16a34a;

  /* >>> nová aktivní accent barva, kterou přepisujeme z Reactu <<< */
  --accent:#16a34a;

  --padH: 260px;
  /* výška hlavičky sloupce hráče v Cricketu – kvůli zarovnání */
  --cricket-head-h: 44px;
}
@media (max-height: 720px){ :root{ --padH: 220px; } }

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;background:var(--bg);color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}
.container{
  height:calc(var(--vh,1vh)*100);
  display:flex;flex-direction:column;min-height:0;
}

/* TOAST */
.toast{
  position:fixed;left:50%;bottom:16px;transform:translateX(-50%);
  background:#0f1318;border:1px solid var(--line);color:#e5fbea;
  padding:10px 14px;border-radius:12px;font-weight:900;box-shadow:0 6px 20px #0009;z-index:9999
}
.toast.ok{ border-color:#14532d; background:linear-gradient(#0f1b12,#0a1510)}

/* HEADER */
.header{
  display:flex;align-items:center;justify-content:space-between;
  gap:8px;padding:6px 8px;background:#13161a;border-bottom:1px solid var(--line)
}
.header .left{display:flex;align-items:center;gap:8px;min-width:0}
.logo{
  display:flex;align-items:center;gap:8px;font-weight:900;white-space:nowrap
}
.logo .dart{
  width:18px;height:18px;border-radius:50%;
  background:conic-gradient(#000 0 5deg,#ef4444 5deg 35deg,#000 35deg 40deg,#16a34a 40deg 70deg,#000 70deg 75deg,#fff 75deg 105deg,#000 105deg 110deg,#ef4444 110deg 140deg,#000 140deg 145deg,#16a34a 145deg 175deg,#000 175deg 180deg,#fff 180deg 210deg,#000 210deg 215deg,#ef4444 215deg 245deg,#000 245deg 250deg,#16a34a 250deg 280deg,#000 280deg 285deg,#fff 285deg 315deg,#000 315deg 320deg,#ef4444 320deg 350deg,#000 350deg 360deg);
  border:2px solid #333
}
.controls{display:flex;align-items:center;gap:6px}

/* ICONS */
.iconBtn{
  display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;
  border:1px solid var(--line);border-radius:10px;background:#171a1f;
  position:relative;color:#cfd6df
}
.icon{width:22px;height:22px;fill:#bfc7d5}
.iconHead{
  width:22px;height:22px;display:inline-block;background:#bfc7d5;
  -webkit-mask:url('/voice-head.png') center/contain no-repeat;
  mask:url('/voice-head.png') center/contain no-repeat
}
.iconBtn.muted .icon,.iconBtn.muted .iconHead{opacity:.55}
.iconBtn.muted::before,.iconBtn.muted::after{
  content:"";position:absolute;width:22px;height:2.5px;background:#ef4444;top:50%;left:50%;
  transform-origin:center;box-shadow:0 0 0 1px #13161a;border-radius:2px
}
.iconBtn.muted::before{transform:translate(-50%,-50%) rotate(45deg)}
.iconBtn.muted::after {transform:translate(-50%,-50%) rotate(-45deg)}

/* INPUTS/BUTTONS */
.input,select{
  background:#12151a;color:#fff;border:1px solid var(--line);
  border-radius:10px;padding:8px 10px;font-size:14px
}
.input::placeholder{color:#fff;opacity:.7}
input[type="text"]{color:#fff}
.btn{
  border:1px solid var(--line);background:#171a1f;color:#fff;border-radius:10px;
  padding:8px 10px;font-weight:800;cursor:pointer;font-size:14px
}
.btn.ghost{background:transparent}
.btn.green{
  background: linear-gradient(var(--accent), #00000055);
  border: 2px solid var(--line);
  color: #fff;
  font-weight: 900;
}
/* ADS */
.adstrip{
  display:flex;
  gap:6px;
  padding:6px 8px;
  background:#171a1f;
  border-bottom:1px solid var(--line);
  overflow-x:auto;
  overflow-y:hidden;
  scroll-snap-type:x mandatory;
}
.adstrip::-webkit-scrollbar{ display:none; }
.adcard{
  min-width:140px;height:44px;background:#fff;color:#111;border-radius:8px;
  display:flex;align-items:center;justify-content:center;font-weight:800
}

/* LOBBY */
.lobbyWrap{
  display:flex;flex-direction:column;gap:8px;padding:8px;flex:1;min-height:0
}
.lobbyCard{
  flex:0 0 auto;background:var(--panel);border:1px solid var(--line);
  border-radius:14px;padding:8px
}
.lobbyControls{
  display:flex;align-items:center;gap:6px;flex-wrap:wrap
}
.lobbyControls span{color:#fff;font-weight:800}
.tab{
  padding:4px 8px;border:1px solid var(--line);border-radius:10px;background:#171a1f;
  cursor:pointer;font-weight:800;color:#fff;line-height:1.1;display:inline-flex;align-items:center
}
.tab input{accent-color:#16a34a}
.tab.active{background:var(--green);border-color:#14532d}
.playerRow{
  display:grid;grid-template-columns:1fr auto auto auto;gap:8px;align-items:center;
  padding:6px;border:1px solid var(--line);border-radius:10px;background:#1c2026
}
.playerName input{width:100%}
.score{ font-variant-numeric:tabular-nums;font-size:28px;font-weight:900 }
.playerActions{display:flex;gap:6px}
.playerDelete{display:flex;justify-content:flex-end}
.trash{
  width:40px;height:40px;border:1px solid var(--line);border-radius:10px;
  background:linear-gradient(#b91c1c,#7f1d1d);color:#fff;font-weight:900
}

/* RULES & SAVED */
.rules dt{font-weight:900;margin-top:6px}
.rules dd{margin:0 0 6px 0;color:var(--muted)}
.savedList{display:flex;flex-direction:column;gap:8px}
.savedRow{
  display:flex;justify-content:space-between;align-items:center;
  padding:6px;border:1px solid var(--line);border-radius:10px;background:#1c2026
}
.savedTitle{font-weight:900}
.savedSub{color:#cbd5e1;font-size:12px}
/* GAME WRAP */
.gameWrap{
  display:flex;
  flex-direction:column;
  gap:8px;
  padding:8px;
  flex:1;
  /* aby hra využila celý displej */
  min-height:calc(var(--vh,1vh)*100);
}

/* horní lišta – jeden pevný řádek */
.gameTopBar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  flex-wrap:wrap;
  margin-bottom:12px;  /* nový odstup pod tlačítky */
}

/* >>> badge border uses accent color <<< */
.badge{
  background:#0f1318;
  border:1px solid var(--accent);
  border-radius:999px;
  padding:6px 10px;
  font-weight:800;
  color:var(--accent);
}

/* tlačítka nahoře – čitelná, kompaktní, vždy na 1 řádku */
.gameTopBtns{
  display:flex;
  gap:4px;                /* menší mezery mezi tlačítky */
  flex-wrap:nowrap;
}

.gameTopBtns .btn{
  white-space:nowrap;
  font-size:15px;         /* pořád dobře čitelné */
  padding:6px 10px;       /* malé rámečky → vleze se to */
  font-weight:700;
  border-radius:6px;      /* menší zaoblení = menší šířka */
  flex:0 0 auto;          /* NEROSTE */
  min-width:max-content;  /* drží text, ale úsporně */
}

.playersPane{
  flex:1 1 calc(100% - var(--padH));
  min-height:0;
  overflow:auto;
  display:flex;
  flex-direction:column;
  gap:8px;
}
/* === CRICKET BLOCK (SLIM) === */

.cricketWrap {
  flex: 1 1 auto;
  min-height: 0;
  display: flex;
  gap: 8px;
  align-items: flex-start;
}

/* Levý sloupec */
.targetsRail {
  flex: 0 0 64px;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Hlavičky */
.targetsRailHead,
.playerColHead {
  height: 40px;
  padding: 0 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  font-weight: 800;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  border-bottom: 1px solid var(--line);
}

/* Slim sloupce hráčů */
.playerCol {
  flex: 0 0 120px;          /* TADY ZÚŽÍŠ sloupce (např 130 → 120 px) */
  max-width: 120px;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* 7 řádků – zarovnání 1:1 */
.targetsRailMarks,
.playerColMarks {
  display: flex;
  flex-direction: column;
}

.targetCell,
.markCell {
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #171a1f;
  font-size: 20px;
  line-height: 1;
  border-bottom: 1px solid var(--line);
}

.targetsRailMarks .targetCell:last-child,
.playerColMarks .markCell:last-child {
  border-bottom: none;
}

.targetsRailMarks .targetCell:last-child {
  background: #7f1d1d;
}

.markCell.closed {
  background: #111827;
}

/* Horizontální scroll hráčů */
.cricketScroll {
  display: flex;
  overflow-x: auto;
  gap: 8px;
  padding-bottom: 0;
  scrollbar-width: none;
}
.cricketScroll::-webkit-scrollbar {
  display: none;
}

/* zvýraznění 25 v levém sloupci */
.targetsRailMarks .targetCell:last-child{
  background:#7f1d1d;
}

/* hráčův sloupec */
.playerCol{
  flex:0 0 160px;           /* minimální šířka jednoho hráče, zbytek scrolluje */
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:12px;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

/* hlavička hráče */
.playerColHead{
  height:40px;
  padding:0 8px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  font-weight:800;
  white-space:nowrap;
  text-overflow:ellipsis;
  overflow:hidden;
  border-bottom:1px solid var(--line);
}

.playerColName{
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

/* scrollovatelné sloupce hráčů */
.cricketScroll{
  flex:1 1 auto;
  min-width:0;
  display:flex;
  gap:8px;
  overflow-x:auto;
  padding-bottom:2px;
}

/* zavřená čísla v cricketu – zůstává logika */
.markCell.closed{
  background:#111827;
}

/* Player card (Classic/Around) – zbytek necháš tak, jak už v souboru máš */


/* === ostatní věci zůstávají === */
.playerCard {
  position: relative;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 8px;
}
.playerCard.active { outline: 2px solid var(--green); }
.playerHeader { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.playerNameText { font-weight: 900; }
.playerStats { display: flex; gap: 8px; color: var(--muted); }
.playerScore { font-size: 40px; font-weight: 900; }
.playerTurn { display: flex; align-items: center; gap: 8px; margin-top: 6px; }
.dartBox {
  min-width: 56px;
  height: 40px;
  border-radius: 10px;
  background: #171a1f;
  border: 1px solid var(--line);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
}
.lastTotal {
  margin-left: auto;
  color: #cbd5e1;
  font-weight: 800;
}

/* Oslava */
.playerCard.winner .starburst{
  position:absolute;inset:0;display:block;pointer-events:none;
  animation:starfade 2s ease-out forwards
}
@keyframes starfade{
  0%{opacity:0}10%{opacity:1}100%{opacity:0}
}
.starburst span{
  --k:0;
  position:absolute;left:50%;top:50%;
  width:2px;height:120%;background:linear-gradient(transparent,#fff,transparent);
  transform-origin:center;
  transform:translate(-50%,-50%) rotate(calc(var(--k)*30deg));
  filter:drop-shadow(0 0 6px #fff);
}
.playerCard.winner{ animation:rainbow 1s linear infinite }
@keyframes rainbow {
  0%{box-shadow:0 0 0 3px #ff3b30}
  25%{box-shadow:0 0 0 3px #ffcc00}
  50%{box-shadow:0 0 0 3px #34c759}
  75%{box-shadow:0 0 0 3px #007aff}
  100%{box-shadow:0 0 0 3px #af52de}
}
.confetti{ position:absolute;inset:0;pointer-events:none;overflow:hidden }
.confetti span{
  --i:0;
  position:absolute;left:50%;top:50%;
  width:7px;height:14px;border-radius:2px;
  transform:rotate(calc(var(--i) * 9deg)) translate(-50%,-50%);
  background:hsl(calc(var(--i)*15), 90%, 55%);
  animation:conf 1.2s ease-out forwards;
}
@keyframes conf{
  0%{transform:rotate(var(--r,0)) translate(0,0) scale(1);opacity:0}
  10%{opacity:1}
  100%{transform:rotate(var(--r,0)) translate(calc((var(--i) - 20) * 6px), calc((var(--i) - 10) * -6px)) scale(1.1);opacity:0}
}
/* PAD */
.padPane{
  flex:0 0 var(--padH);     /* společná výška pro všechny módy */
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:14px;
  padding:8px;
  overflow:hidden;
  max-width:100vw;
  /* BEZ margin-top – ten řešíme jen pro cricket níž */
}
/* Extra mezera mezi tabulkou a klávesnicí jen v Cricketu */
.container[data-mode="cricket"] .padPane{
  margin-top:32px;    /* tady si hraj s mezerou – 24 / 32 / 40px */
}
.padRow{
  display:flex;
  gap:8px;
  justify-content:center;
  margin-bottom:8px
}

/* KEYPAD BUTTONS */
.key{
  flex:1 1 auto;
  min-width:48px;
  height:56px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#0f1318;
  color:#fff;
  font-weight:900;
  font-size:20px;
  box-shadow:inset 0 -2px 0 #0005;
  transition:transform .05s, background-color .08s, box-shadow .08s, border-color .08s
}
/* nativní press */
.key:active{ transform:translateY(1px) scale(.98); }
/* JS press */
.key.pressed{
  transform:translateY(1px) scale(.98);
  background:#2a2f36;
  border-color:#6b7280;
  box-shadow:inset 0 -1px 0 #0008, 0 0 0 2px #9aa3af66;
}

.multBtn{
  flex:1 1 auto;
  min-width:120px;
  height:44px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#1a1f26;
  color:#fff;
  font-weight:900;
  display:flex;
  align-items:center;
  justify-content:center;
}
.multBtn.mult-2.active{
  background:#a11d1d;
  border-color:#7a1616
} /* DOUBLE = červená */
.multBtn.mult-3.active{
  background:#157f3a;
  border-color:#0e5d2b
} /* TRIPLE = zelená */

/* backspace ikona */
.backspace{
  display:flex;
  align-items:center;
  justify-content:center;
}
.iconBackspace{
  width:28px;
  height:28px;
  display:block; /* <- důležité pro centrování X */
}

/* Cricket keypad: čísla do gridu */
.container[data-mode="cricket"] .padPane > .padRow:not(:first-child){
  display:grid;
  grid-template-columns: repeat(7, minmax(0, 1fr));
  gap:8px;
  justify-items:stretch;
  align-items:stretch;
}

/* první řádek (DOUBLE/TRIPLE/undo) zůstává flex */
.container[data-mode="cricket"] .padPane > .padRow:first-child{
  display:flex;
  gap:8px;
  justify-content:center;
  align-items:center;
}

/* tlačítka v gridu vyplní buňky */
.container[data-mode="cricket"] .padPane > .padRow:not(:first-child) .key{
  width:100%;
  height:56px;
  font-size:20px;
}

/* řádek s jediným tlačítkem (0) přes celou šířku */
.container[data-mode="cricket"] .padPane > .padRow:not(:first-child) > .key:only-child{
  grid-column: 1 / -1;
}

/* Bezpečná minimální šířka mult tlačítek, aby se nepřekrývaly */
.container[data-mode="cricket"] .multBtn{
  min-width:110px;
  height:44px;
}

/* Mikro-responzivita pro extrémně úzké mobily */
@media (max-width: 360px){
  .container[data-mode="cricket"] .padPane > .padRow:not(:first-child) .key{
    height:52px;
    font-size:18px;
  }
}

/* >>> target box uses accent color <<< */
.targetBox{
  border-color:var(--accent);
  background:rgba(0,0,0,0.4);
  color:var(--accent);
  font-weight:900;
}
/* ======= RESPONSIVE KEYPAD (Classic & Around) – vše uvnitř rámečku, žádné přetoky ======= */
.container:not([data-mode="cricket"]) .padPane{
  /* rámeček drží obsah */
  overflow:hidden;
  max-width:100vw;
  padding:8px;
  box-sizing:border-box;

  /* z padPane uděláme dvouřádkovou mřížku:
     1) nahoře auto (DOUBLE/TRIPLE/backspace)
     2) dole zbytek prostoru pro čísla */
  display:grid;
  grid-template-rows:auto 1fr;
  grid-template-columns:repeat(5, 1fr);
  grid-auto-rows:1fr;   /* řádky s čísly se rozdělí rovnoměrně do dostupné výšky */
  gap:8px;
}

/* 1) horní řádek (DOUBLE / TRIPLE / backspace) přes celou šířku */
.container:not([data-mode="cricket"]) .padPane > .padRow:first-child{
  grid-column:1 / -1;   /* přes všech 5 sloupců */
  grid-row:1;           /* první (auto) řádek */
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns:1fr;
  gap:8px;
}

/* 2) všechny následující .padRow "rozpustíme", aby jejich tlačítka šla přímo do gridu padPane */
.container:not([data-mode="cricket"]) .padPane > .padRow:not(:first-child){
  display:contents;     /* děti (tlačítka) se stanou přímo grid-prvky padPane */
}

/* ČÍSLA: každé číslo je grid item, zaplní buňku, výška se odvodí z 1fr řádku */
.container:not([data-mode="cricket"]) .padPane > .padRow:not(:first-child) .key{
  width:100%;
  height:100%;
  min-width:0;
  align-self:stretch;
  justify-self:stretch;
  font-size:clamp(14px, 2.5vh, 20px);  /* adaptivní typografie, aby se vše vešlo */
}

/* Mult tlačítka – ponecháme jejich výšku z původních stylů (44px), jen šířka do sloupce */
.container:not([data-mode="cricket"]) .padPane .multBtn{
  width:100%;
  min-width:0;
}

/* Bezpečně vypneme horizontální posuv celé stránky */
html, body{
  overflow-x:hidden;
}
