:root{
  --bg:#1f2227;
  --panel:#24282e;
  --text:#fff;
  --muted:#cfd6df;
  --line:#2d3239;

  /* původní "zelená", necháme ji kvůli starým stylům */
  --green:#16a34a;

  /* >>> nová aktivní accent barva, kterou přepisujeme z Reactu <<< */
  --accent:#16a34a;

  --padH: 260px;
  /* výška hlavičky sloupce hráče v Cricketu – kvůli zarovnání */
  --cricket-head-h: 44px;
}
@media (max-height: 720px){ :root{ --padH: 220px; } }

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;background:var(--bg);color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}
.container{
  height:calc(var(--vh,1vh)*100);
  display:flex;flex-direction:column;min-height:0;
}

/* TOAST */
.toast{
  position:fixed;left:50%;bottom:16px;transform:translateX(-50%);
  background:#0f1318;border:1px solid var(--line);color:#e5fbea;
  padding:10px 14px;border-radius:12px;font-weight:900;box-shadow:0 6px 20px #0009;z-index:9999
}
.toast.ok{ border-color:#14532d; background:linear-gradient(#0f1b12,#0a1510)}

/* HEADER */
.header{
  display:flex;align-items:center;justify-content:space-between;
  gap:8px;padding:6px 8px;background:#13161a;border-bottom:1px solid var(--line)
}
.header .left{display:flex;align-items:center;gap:8px;min-width:0}
.logo{
  display:flex;align-items:center;gap:8px;font-weight:900;white-space:nowrap
}
.logo .dart{
  width:18px;height:18px;border-radius:50%;
  background:conic-gradient(#000 0 5deg,#ef4444 5deg 35deg,#000 35deg 40deg,#16a34a 40deg 70deg,#000 70deg 75deg,#fff 75deg 105deg,#000 105deg 110deg,#ef4444 110deg 140deg,#000 140deg 145deg,#16a34a 145deg 175deg,#000 175deg 180deg,#fff 180deg 210deg,#000 210deg 215deg,#ef4444 215deg 245deg,#000 245deg 250deg,#16a34a 250deg 280deg,#000 280deg 285deg,#fff 285deg 315deg,#000 315deg 320deg,#ef4444 320deg 350deg,#000 350deg 360deg);
  border:2px solid #333
}
.controls{display:flex;align-items:center;gap:6px}

/* ICONS */
.iconBtn{
  display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;
  border:1px solid var(--line);border-radius:10px;background:#171a1f;
  position:relative;color:#cfd6df
}
.icon{width:22px;height:22px;fill:#bfc7d5}
.iconHead{
  width:22px;height:22px;display:inline-block;background:#bfc7d5;
  -webkit-mask:url('/voice-head.png') center/contain no-repeat;
  mask:url('/voice-head.png') center/contain no-repeat
}
.iconBtn.muted .icon,.iconBtn.muted .iconHead{opacity:.55}
.iconBtn.muted::before,.iconBtn.muted::after{
  content:"";position:absolute;width:22px;height:2.5px;background:#ef4444;top:50%;left:50%;
  transform-origin:center;box-shadow:0 0 0 1px #13161a;border-radius:2px
}
.iconBtn.muted::before{transform:translate(-50%,-50%) rotate(45deg)}
.iconBtn.muted::after {transform:translate(-50%,-50%) rotate(-45deg)}

/* INPUTS/BUTTONS */
.input,select{
  background:#12151a;color:#fff;border:1px solid var(--line);
  border-radius:10px;padding:8px 10px;font-size:14px
}
.input::placeholder{color:#fff;opacity:.7}
input[type="text"]{color:#fff}
.btn{
  border:1px solid var(--line);background:#171a1f;color:#fff;border-radius:10px;
  padding:8px 10px;font-weight:800;cursor:pointer;font-size:14px
}
.btn.ghost{background:transparent}
.btn.green{
  background: linear-gradient(var(--accent), #00000055);
  border: 2px solid var(--line);
  color: #fff;
  font-weight: 900;
}
/* ADS */
.adstrip{
  display:flex;
  gap:6px;
  padding:6px 8px;
  background:#171a1f;
  border-bottom:1px solid var(--line);
  overflow-x:auto;
  overflow-y:hidden;
  scroll-snap-type:x mandatory;
}

.adstrip::-webkit-scrollbar{
  display:none;
}
.adcard{
  min-width:140px;height:44px;background:#fff;color:#111;border-radius:8px;
  display:flex;align-items:center;justify-content:center;font-weight:800
}

/* LOBBY */
.lobbyWrap{
  display:flex;flex-direction:column;gap:8px;padding:8px;flex:1;min-height:0
}
.lobbyCard{
  flex:0 0 auto;background:var(--panel);border:1px solid var(--line);
  border-radius:14px;padding:8px
}
.lobbyControls{
  display:flex;align-items:center;gap:6px;flex-wrap:wrap
}
.lobbyControls span{color:#fff;font-weight:800}
.tab{
  padding:4px 8px;border:1px solid var(--line);border-radius:10px;background:#171a1f;
  cursor:pointer;font-weight:800;color:#fff;line-height:1.1;display:inline-flex;align-items:center
}
.tab input{accent-color:#16a34a}
.tab.active{background:var(--green);border-color:#14532d}
.playerRow{
  display:grid;grid-template-columns:1fr auto auto auto;gap:8px;align-items:center;
  padding:6px;border:1px solid var(--line);border-radius:10px;background:#1c2026
}
.playerName input{width:100%}
.score{
  font-variant-numeric:tabular-nums;font-size:28px;font-weight:900
}
.playerActions{display:flex;gap:6px}
.playerDelete{display:flex;justify-content:flex-end}
.trash{
  width:40px;height:40px;border:1px solid var(--line);border-radius:10px;
  background:linear-gradient(#b91c1c,#7f1d1d);color:#fff;font-weight:900
}

/* RULES & SAVED */
.rules dt{font-weight:900;margin-top:6px}
.rules dd{margin:0 0 6px 0;color:var(--muted)}
.savedList{display:flex;flex-direction:column;gap:8px}
.savedRow{
  display:flex;justify-content:space-between;align-items:center;
  padding:6px;border:1px solid var(--line);border-radius:10px;background:#1c2026
}
.savedTitle{font-weight:900}
.savedSub{color:#cbd5e1;font-size:12px}

/* GAME WRAP */
.gameWrap{
  display:flex;flex-direction:column;gap:8px;padding:8px;flex:1;min-height:0
}
.gameTopBar{
  display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap
}
/* >>> badge border uses accent color <<< */
.badge{
  background:#0f1318;
  border:1px solid var(--accent);
  border-radius:999px;
  padding:6px 10px;
  font-weight:800;
  color:var(--accent);
}
.gameTopBtns{display:flex;gap:8px}
.playersPane{
  flex:1 1 calc(100% - var(--padH));min-height:0;overflow:auto;
  display:flex;flex-direction:column;gap:8px
}

/* CRICKET LAYOUT */
.cricketWrap{
  flex:1 1 calc(100% - var(--padH));
  min-height:0;
  display:flex;
  gap:8px;
  overflow:hidden;
}

/* Levý pevný sloupec s cíli (15..bull)
   Nový markup:
   <div class="targetsRail">
     <div class="targetsRailHead"></div>
     <div class="targetsRailMarks"> ... targetCell ... </div>
   </div>
   Tohle zarovnává úplně stejně jako playerColHead + playerColMarks
*/
.targetsRail{
  flex:0 0 72px;
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:12px;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}
.targetsRailHead{
  height: var(--cricket-head-h);
  border-bottom:1px solid var(--line);
}
.targetsRailMarks{
  display:flex;
  flex-direction:column;
  gap:6px;
  padding:6px;
}
.targetCell{
  width:100%;
  height:40px;
  display:flex;
  align-items:center;
  justify-content:center;
  border:1px solid var(--line);
  border-radius:10px;
  background:#171a1f;
  font-weight:900;
  line-height:1;
}
.targetsRailMarks .targetCell:last-child{
  background:#7f1d1d;
}

.cricketScroll{
  flex:1 1 auto;
  min-width:0;
  overflow-x:auto;
  display:flex;
  gap:8px;
  padding-bottom:2px
}

.playerCol{
  min-width:140px;
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:12px;
  display:flex;
  flex-direction:column
}
/* >>> active highlight uses accent color <<< */
.playerCol.active{outline:2px solid var(--accent)}
.playerCard.active{outline:2px solid var(--accent)}
.playerColHead{
  height: var(--cricket-head-h);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 8px;
  border-bottom:1px solid var(--line);
}
.playerColName{
  font-weight:900;
  white-space:normal;        /* bylo nowrap */
  overflow:visible;          /* bylo hidden */
  text-overflow:clip;        /* bylo ellipsis */
  max-width:none;            /* bylo ~90px */
  line-height:1.2;
  word-break:break-word;
}
.playerColPts{
  font-variant-numeric:tabular-nums;
  font-weight:900
}
.playerColMarks{
  display:flex;
  flex-direction:column;
  gap:6px;
  padding:6px
}
.markCell{
  height:40px;
  border:1px solid var(--line);
  border-radius:10px;
  background:#0f1318;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  font-weight:900
}
.markCell.closed{
  box-shadow:inset 0 0 0 2px #16a34a
}

/* Player card (Classic/Around) */
.playerCard{
  position:relative;
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:14px;
  padding:8px
}
.playerCard.active{outline:2px solid var(--green)}
.playerHeader{
  display:flex;align-items:center;justify-content:space-between;gap:8px
}
.playerNameText{font-weight:900}
.playerStats{display:flex;gap:8px;color:var(--muted)}
.playerScore{font-size:40px;font-weight:900}
.playerTurn{
  display:flex;
  align-items:center;
  gap:8px;
  margin-top:6px
}
.dartBox{
  min-width:56px;
  height:40px;
  border-radius:10px;
  background:#171a1f;
  border:1px solid var(--line);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900
}
.lastTotal{
  margin-left:auto;
  color:#cbd5e1;
  font-weight:800
}

/* Oslava */
.playerCard.winner .starburst{
  position:absolute;inset:0;display:block;pointer-events:none;
  animation:starfade 2s ease-out forwards
}
@keyframes starfade{
  0%{opacity:0}10%{opacity:1}100%{opacity:0}
}
.starburst span{
  --k:0;
  position:absolute;left:50%;top:50%;
  width:2px;height:120%;background:linear-gradient(transparent,#fff,transparent);
  transform-origin:center;
  transform:translate(-50%,-50%) rotate(calc(var(--k)*30deg));
  filter:drop-shadow(0 0 6px #fff);
}
.playerCard.winner{
  animation:rainbow 1s linear infinite
}
@keyframes rainbow {
  0%{box-shadow:0 0 0 3px #ff3b30}
  25%{box-shadow:0 0 0 3px #ffcc00}
  50%{box-shadow:0 0 0 3px #34c759}
  75%{box-shadow:0 0 0 3px #007aff}
  100%{box-shadow:0 0 0 3px #af52de}
}
.confetti{
  position:absolute;inset:0;pointer-events:none;overflow:hidden
}
.confetti span{
  --i:0;
  position:absolute;left:50%;top:50%;
  width:7px;height:14px;border-radius:2px;
  transform:rotate(calc(var(--i) * 9deg)) translate(-50%,-50%);
  background:hsl(calc(var(--i)*15), 90%, 55%);
  animation:conf 1.2s ease-out forwards;
}
@keyframes conf{
  0%{transform:rotate(var(--r,0)) translate(0,0) scale(1);opacity:0}
  10%{opacity:1}
  100%{transform:rotate(var(--r,0)) translate(calc((var(--i) - 20) * 6px), calc((var(--i) - 10) * -6px)) scale(1.1);opacity:0}
}

/* PAD */
.padPane{
  flex:0 0 var(--padH);
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:14px;
  padding:8px
}
.padRow{
  display:flex;
  gap:8px;
  justify-content:center;
  margin-bottom:8px
}

/* KEYPAD BUTTONS */
.key{
  flex:1 1 auto;
  min-width:48px;
  height:56px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#0f1318;
  color:#fff;
  font-weight:900;
  font-size:20px;
  box-shadow:inset 0 -2px 0 #0005;
  transition:transform .05s, background-color .08s, box-shadow .08s, border-color .08s
}
/* nativní press */
.key:active{
  transform:translateY(1px) scale(.98);
}
/* JS press */
.key.pressed{
  transform:translateY(1px) scale(.98);
  background:#2a2f36;
  border-color:#6b7280;
  box-shadow:inset 0 -1px 0 #0008, 0 0 0 2px #9aa3af66;
}

.multBtn{
  flex:1 1 auto;
  min-width:120px;
  height:44px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#1a1f26;
  color:#fff;
  font-weight:900;
  display:flex;
  align-items:center;
  justify-content:center;
}
.multBtn.mult-2.active{
  background:#a11d1d;
  border-color:#7a1616
} /* DOUBLE = červená */
.multBtn.mult-3.active{
  background:#157f3a;
  border-color:#0e5d2b
} /* TRIPLE = zelená */

/* backspace ikona */
.backspace{
  display:flex;
  align-items:center;
  justify-content:center;
}
.iconBackspace{
  width:28px;
  height:28px;
  display:block; /* <- důležité pro centrování X */
}

/* Cricket keypad: čísla do gridu */
.container[data-mode="cricket"] .padPane > .padRow:not(:first-child){
  display:grid;
  grid-template-columns: repeat(7, minmax(0, 1fr));
  gap:8px;
  justify-items:stretch;
  align-items:stretch;
}

/* první řádek (DOUBLE/TRIPLE/undo) zůstává flex */
.container[data-mode="cricket"] .padPane > .padRow:first-child{
  display:flex;
  gap:8px;
  justify-content:center;
  align-items:center;
}

/* tlačítka v gridu vyplní buňky */
.container[data-mode="cricket"] .padPane > .padRow:not(:first-child) .key{
  width:100%;
  height:56px;
  font-size:20px;
}

/* řádek s jediným tlačítkem (0) přes celou šířku */
.container[data-mode="cricket"] .padPane > .padRow:not(:first-child) > .key:only-child{
  grid-column: 1 / -1;
}

/* Bezpečná minimální šířka mult tlačítek, aby se nepřekrývaly */
.container[data-mode="cricket"] .multBtn{
  min-width:110px;
  height:44px;
}

/* Mikro-responzivita pro extrémně úzké mobily */
@media (max-width: 360px){
  .container[data-mode="cricket"] .padPane > .padRow:not(:first-child) .key{
    height:52px;
    font-size:18px;
  }
}

/* >>> target box uses accent color <<< */
.targetBox{
  border-color:var(--accent);
  background:rgba(0,0,0,0.4);
  color:var(--accent);
  font-weight:900;
}
/* Fix pro přetékající klávesnici v mobilním zobrazení */
.keypad {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  max-width: 100vw;
  overflow-x: hidden;
  box-sizing: border-box;
}
.keypad button {
  flex: 1 0 20%;
  max-width: 20%;
  box-sizing: border-box;
}
/* === MOBILE FIX: keypad fits exactly to screen === */
.padPane {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 8px;
  width: 100%;
  max-width: 100vw;
  overflow: hidden;
  padding: 8px;
  box-sizing: border-box;
}

.padPane button {
  flex: 1 0 20%;
  max-width: 20%;
  text-align: center;
  box-sizing: border-box;
}

/* jistota že se nic neposune mimo */
html, body {
  overflow-x: hidden;
}

  max-width: 100vw;
  overflow: hidden;
  box-sizing: border-box;
}
